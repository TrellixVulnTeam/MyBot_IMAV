(function(e){function t(t){for(var a,r,i=t[0],l=t[1],c=t[2],d=0,p=[];d<i.length;d++)r=i[d],Object.prototype.hasOwnProperty.call(n,r)&&n[r]&&p.push(n[r][0]),n[r]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a]);u&&u(t);while(p.length)p.shift()();return o.push.apply(o,c||[]),s()}function s(){for(var e,t=0;t<o.length;t++){for(var s=o[t],a=!0,i=1;i<s.length;i++){var l=s[i];0!==n[l]&&(a=!1)}a&&(o.splice(t--,1),e=r(r.s=s[0]))}return e}var a={},n={app:0},o=[];function r(t){if(a[t])return a[t].exports;var s=a[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,r),s.l=!0,s.exports}r.m=e,r.c=a,r.d=function(e,t,s){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(r.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(s,a,function(t){return e[t]}.bind(null,a));return s},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/test/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=t,i=i.slice();for(var c=0;c<i.length;c++)t(i[c]);var u=l;o.push([0,"chunk-vendors"]),s()})({0:function(e,t,s){e.exports=s("56d7")},"1fda":function(e,t,s){"use strict";var a=s("cbf1"),n=s.n(a);n.a},"4b16":function(e,t){e.exports=joint},"52d4":function(e,t,s){},"56d7":function(e,t,s){"use strict";s.r(t);s("e260"),s("e6cf"),s("cca6"),s("a79d");var a=s("a026"),n=s("8c4f"),o=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-container",{staticClass:"home",attrs:{fluid:""}},[s("v-row",{attrs:{dense:""}},[s("v-col",{attrs:{cols:"auto"}},[s("div",{staticClass:"text-h3 text-capitalize grey--text text--darken-2 font-weight-medium"},[e._v(" "+e._s(e.projectInfo.name)+" ")])])],1),s("v-row",{attrs:{dense:""}},[s("v-col",[s("p",[e._v("Working Directory: "+e._s(e.projectInfo.dir))])])],1),s("v-row",[s("v-col",{attrs:{cols:"12"}},[s("v-expansion-panels",{attrs:{multiple:""},model:{value:e.panel,callback:function(t){e.panel=t},expression:"panel"}},[s("v-expansion-panel",[s("v-expansion-panel-header",{scopedSlots:e._u([{key:"default",fn:function(){return[e._v(" Plugin Overview ")]},proxy:!0},{key:"actions",fn:function(){return[s("v-btn",{staticClass:"mr-2",attrs:{icon:""},on:{click:function(t){return t.stopPropagation(),e.getPlugins(t)}}},[s("v-icon",[e._v("fa-sync-alt")])],1),s("v-icon",[e._v("fa-chevron-down")])]},proxy:!0}])}),s("v-expansion-panel-content",[s("v-container",[s("v-row",e._l(e.plugins,(function(t,a){return s("v-col",{key:a,attrs:{cols:"12",sm:"6",md:"3"}},[s("v-card",{attrs:{color:"#f3f6fc",id:t.name}},[s("v-card-title",{staticClass:"py-2"},[s("div",{staticClass:"text-h5"},[e._v(" "+e._s(t.name)+" ")])]),s("v-list-item",{attrs:{dense:"","two-line":""}},[s("v-list-item-content",[s("v-list-item-title",[e._v("Module Path")]),s("v-list-item-subtitle",[e._v(" "+e._s(t.module)+" ")])],1)],1),s("v-list-item",{attrs:{dense:""}},[s("v-list-item-content",[s("v-list-item-title",[e._v(" Matcher "),s("v-badge",{staticClass:"mt-0",attrs:{inline:"",content:t.matcher}})],1)],1)],1)],1)],1)})),1)],1)],1)],1),s("v-expansion-panel",[s("v-expansion-panel-header",{scopedSlots:e._u([{key:"default",fn:function(){return[e._v(" Matcher Overview ")]},proxy:!0},{key:"actions",fn:function(){return[s("v-btn",{staticClass:"mr-2",attrs:{icon:""},on:{click:function(t){return t.stopPropagation(),e.getMatchers(t)}}},[s("v-icon",[e._v("fa-sync-alt")])],1),s("v-icon",[e._v("fa-chevron-down")])]},proxy:!0}])}),s("v-expansion-panel-content",[s("div",{ref:"flowchart",staticClass:"flowchart",class:{loading:e.loading},attrs:{id:"flowchart"}},[e.loading?s("Loading",{staticClass:"flowchart-loading-icon"}):e._e()],1)])],1),s("v-expansion-panel",[s("v-expansion-panel-header",{scopedSlots:e._u([{key:"default",fn:function(){return[e._v(" Config Overview ")]},proxy:!0},{key:"actions",fn:function(){return[s("v-btn",{staticClass:"mr-2",attrs:{icon:""},on:{click:function(t){return t.stopPropagation(),e.getConfig(t)}}},[s("v-icon",[e._v("fa-sync-alt")])],1),s("v-icon",[e._v("fa-chevron-down")])]},proxy:!0}])}),s("v-expansion-panel-content",[s("v-simple-table",{scopedSlots:e._u([{key:"default",fn:function(){return[s("thead",[s("tr",[s("th",{staticClass:"text-left"},[e._v("Key")]),s("th",{staticClass:"text-left"},[e._v("Value")])])]),s("tbody",e._l(e.config,(function(t,a){return s("tr",{key:a},[s("td",[e._v(e._s(a))]),s("td",[e._v(e._s(t))])])})),0)]},proxy:!0}])})],1)],1)],1)],1)],1)],1)},r=[],i=(s("99af"),s("a9e3"),s("b64b"),s("2909")),l=s("b85c"),c=s("4b16"),u=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("svg",{staticStyle:{"enable-background":"new 0 0 50 50"},attrs:{xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",viewBox:"0 0 30 30"}},[s("rect",{attrs:{x:"0",y:"13",width:"4",height:"5"}},[s("animate",{attrs:{attributeName:"height",attributeType:"XML",values:"5;21;5",begin:"0s",dur:"0.6s",repeatCount:"indefinite"}}),s("animate",{attrs:{attributeName:"y",attributeType:"XML",values:"13; 5; 13",begin:"0s",dur:"0.6s",repeatCount:"indefinite"}})]),s("rect",{attrs:{x:"10",y:"13",width:"4",height:"5"}},[s("animate",{attrs:{attributeName:"height",attributeType:"XML",values:"5;21;5",begin:"0.15s",dur:"0.6s",repeatCount:"indefinite"}}),s("animate",{attrs:{attributeName:"y",attributeType:"XML",values:"13; 5; 13",begin:"0.15s",dur:"0.6s",repeatCount:"indefinite"}})]),s("rect",{attrs:{x:"20",y:"13",width:"4",height:"5"}},[s("animate",{attrs:{attributeName:"height",attributeType:"XML",values:"5;21;5",begin:"0.3s",dur:"0.6s",repeatCount:"indefinite"}}),s("animate",{attrs:{attributeName:"y",attributeType:"XML",values:"13; 5; 13",begin:"0.3s",dur:"0.6s",repeatCount:"indefinite"}})])])},d=[],p=s("2877"),m={},f=Object(p["a"])(m,u,d,!1,null,null,null),v=f.exports,g={name:"Home",components:{Loading:v},data:function(){return{panel:[0,1,2],projectInfo:{name:"",dir:""},plugins:[],matchers:{},config:{},loading:!0,paper:null,graph:null}},methods:{getProject:function(){var e=this;this.$axios.get("/info").then((function(t){200===t.data.status?e.projectInfo=t.data.data||{name:"NoneBot",dir:"Unknown"}:(e.$toastr.error("","Could not get project info"),console.log("[!] Could not get project info: ",t.data),e.projectInfo={name:"NoneBot",dir:"Unknown"})})).catch((function(t){e.$toastr.error("","Could not get project info"),console.log("[!] Could not get project info: ",t),e.projectInfo={name:"NoneBot",dir:"Unknown"}}))},getPlugins:function(){var e=this;this.$axios.get("/plugins").then((function(t){200===t.data.status?e.plugins=t.data.data:(e.$toastr.error("","Could not get loaded plugins"),console.log("[!] Could not get loaded plugins: ",t.data))})).catch((function(t){e.$toastr.error("","Could not get loaded plugins"),console.log("[!] Could not get loaded plugins: ",t)}))},getMatchers:function(){var e=this;this.loading=!0,this.$axios.get("/matchers").then((function(t){200===t.data.status?(e.matchers=t.data.data,e.drawFlowChart()):(e.$toastr.error("","Could not get loaded matchers"),console.log("[!] Could not get loaded matchers: ",t.data))})).catch((function(t){e.$toastr.error("","Could not get loaded matchers"),console.log("[!] Could not get loaded matchers: ",t)}))},getConfig:function(){var e=this;this.$axios.get("/config").then((function(t){200===t.data.status?e.config=t.data.data:(e.$toastr.error("","Could not get loaded config"),console.log("[!] Could not get loaded config: ",t.data))})).catch((function(t){e.$toastr.error("","Could not get loaded config"),console.log("[!] Could not get loaded config: ",t)}))},drawFlowChart:function(){this.graph=new c["dia"].Graph,this.paper=new c["dia"].Paper({el:this.$refs.flowchart,model:this.graph,width:"100%",height:"200px",background:{color:"#f3f6f8"}});var e=this,t=null;this.paper.on("blank:pointerdown",(function(e,s,a){t={x:s,y:a}})),this.paper.on("cell:pointerup blank:pointerup",(function(e,s,a){t=null})),this.$refs.flowchart.onmousemove=function(s){t&&e.paper.translate(s.offsetX-t.x,s.offsetY-t.y)},this.$refs.flowchart.ontouchmove=function(s){t&&e.paper.translate(s.touches[0].clientX-t.x,s.touches[0].cilentY-t.y)};var s=this.drawRect(70,15,50,30,"Event","#2F495F","30px","30px");if(0!==Object.keys(this.matchers).length){var a,n=70,o=[],r=[],u=Object.keys(this.matchers).sort((function(e,t){return Number(e)-Number(t)})),d=Object(l["a"])(u);try{for(d.s();!(a=d.n()).done;){var p=a.value;if(0===o.length)o=this.drawPriority(n,p,this.matchers[p],s,[]);else{var m=this.drawCondition(n-60,o);r.push(m),o=this.drawPriority(n,p,this.matchers[p],m,[{x:95,y:n-40}])}n+=40*this.matchers[p].length+60}}catch(b){d.e(b)}finally{d.f()}for(var f=this.drawRect(660,n-30,50,30,"Done","#2F495F","30px","30px"),v=0,g=[].concat(Object(i["a"])(o),r);v<g.length;v++){var h=g[v];this.drawLink(h,f,[{x:685,y:h.attributes.position.y+h.attributes.size.height/2}])}this.paper.fitToContent({minWidth:"100%",padding:30}),this.loading=!1}else{var _=this.drawRect(70,100,50,30,"Done","#2F495F","30px","30px");this.drawLink(s,_)}},drawRect:function(e,t,s,a,n,o,r,i){var l=new c["shapes"].basic.Rect({position:{x:e,y:t},size:{width:s,height:a},attrs:{rect:{fill:o,"stroke-width":"0px",rx:r,ry:i},text:{text:n,fill:"white"}}});return this.graph.addCell(l),l},drawPolygon:function(e,t,s,a,n){var o=new c["shapes"].basic.Polygon({position:{x:e,y:t},attrs:{polygon:{points:s,fill:n,strokeWidth:"0px"},text:{text:a,fill:"white",refY:"-40",textVerticalAnchor:"start"}}});return this.graph.addCell(o),o},drawLink:function(e,t,s){var a=new c["shapes"].devs.Link({source:{id:e.id},target:{id:t.id},vertices:s,attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#8DA1AC"}},connector:{name:"rounded",args:{radius:10}}});return this.graph.addCell(a),a},drawPriority:function(e,t,s,a,n){var o=e,r=[],i=this.drawRect(80,o,30,30,t,"#00BC7D","15px","15px");this.drawLink(a,i,n);var c,u=Object(l["a"])(s);try{for(u.s();!(c=u.n()).done;){var d=c.value,p=this.drawRect(200,o,350,30,"".concat(d.type," matcher from ").concat(d.module,", temp: ").concat(d.temp),"#4285F4","2px","15px");this.drawLink(i,p,[{x:160,y:e+15},{x:160,y:o+15}]),o+=40,r.push(p)}}catch(m){u.e(m)}finally{u.f()}return r},drawCondition:function(e,t){var s,a=this.drawPolygon(600,e,"30,0 0,20 30,40 60,20","Block?","#FFB500"),n=Object(l["a"])(t);try{for(n.s();!(s=n.n()).done;){var o=s.value;this.drawLink(o,a,[{x:630,y:o.attributes.position.y+15}])}}catch(r){n.e(r)}finally{n.f()}return a}},mounted:function(){this.getProject(),this.getPlugins(),this.getMatchers(),this.getConfig()}},h=g,_=(s("cccb"),s("6544")),b=s.n(_),y=s("4ca6"),x=s("8336"),w=s("b0af"),k=s("99d9"),$=s("62ad"),T=s("a523"),C=s("cd55"),I=s("49e2"),S=s("c865"),V=s("0393"),M=s("132d"),j=s("da13"),P=s("5d23"),O=s("0fd9"),G=s("1f4f"),N=Object(p["a"])(h,o,r,!1,null,null,null),Q=N.exports;b()(N,{VBadge:y["a"],VBtn:x["a"],VCard:w["a"],VCardTitle:k["c"],VCol:$["a"],VContainer:T["a"],VExpansionPanel:C["a"],VExpansionPanelContent:I["a"],VExpansionPanelHeader:S["a"],VExpansionPanels:V["a"],VIcon:M["a"],VListItem:j["a"],VListItemContent:P["a"],VListItemSubtitle:P["b"],VListItemTitle:P["c"],VRow:O["a"],VSimpleTable:G["a"]});var E=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"frontend"},[s("v-toolbar",{attrs:{color:"transparent",flat:"",dense:""}},[s("v-breadcrumbs",{attrs:{items:e.breadcrumbs,large:""}}),s("v-spacer"),s("v-btn",{attrs:{outlined:"",color:"success"},on:{click:function(t){e.copyEnv(),e.settingModal=!0}}},[e._v(" Settings "),s("v-icon",{attrs:{small:"",right:""}},[e._v("fa-unlock-alt")])],1)],1),s("v-container",{attrs:{fluid:""}},[s("v-row",{attrs:{dense:""}},[s("v-col",{attrs:{cols:"12",sm:"4"}},[s("Messenger")],1),s("v-col",{attrs:{cols:"12",sm:"8"}},[s("Sender",{attrs:{testId:e.testId}})],1)],1)],1),s("v-dialog",{attrs:{width:"900","max-width":"95%"},model:{value:e.settingModal,callback:function(t){e.settingModal=t},expression:"settingModal"}},[s("v-card",[s("v-card-title",{staticClass:"headline"},[e._v("修改设置")]),s("v-divider"),s("v-card-text",[s("v-form",{ref:"settingForm",attrs:{"lazy-validation":""},model:{value:e.settingValid,callback:function(t){e.settingValid=t},expression:"settingValid"}},[s("v-row",[s("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[s("v-text-field",{attrs:{outlined:"",dense:"",label:"self_id",rules:[e.required]},model:{value:e.tempEnvs.self_id,callback:function(t){e.$set(e.tempEnvs,"self_id",t)},expression:"tempEnvs.self_id"}})],1),s("v-col",{attrs:{cols:"12"}},[s("v-toolbar",{attrs:{flat:"",dense:""}},[s("v-toolbar-title",[e._v("Sender")]),s("v-spacer"),s("v-btn",{attrs:{fab:"","x-small":"",color:"success"},on:{click:function(t){e.clearSender(),e.senderModal=!0}}},[s("v-icon",{attrs:{small:""}},[e._v("fa-plus")])],1)],1),s("v-data-table",{attrs:{dense:"",headers:e.senderKeys,items:e.tempSenders},scopedSlots:e._u([{key:"item.action",fn:function(t){var a=t.item;return[s("v-btn",{attrs:{dark:"","x-small":"",color:"primary"},on:{click:function(t){e.copySender(a.user_id),e.senderModal=!0}}},[e._v(" 修改 ")]),s("v-btn",{attrs:{dark:"","x-small":"",color:"red"},on:{click:function(t){return e.deleteSender(a.user_id)}}},[e._v(" 删除 ")])]}}],null,!0)})],1)],1)],1)],1),s("v-card-actions",[s("v-spacer"),s("v-btn",{attrs:{outlined:""},on:{click:function(t){e.settingModal=!1}}},[e._v("取消")]),s("v-btn",{attrs:{outlined:"",color:"success"},on:{click:function(t){return e.saveEnv()}}},[e._v("保存")])],1)],1)],1),s("v-dialog",{attrs:{width:"350","max-width":"95%"},model:{value:e.senderModal,callback:function(t){e.senderModal=t},expression:"senderModal"}},[s("v-card",[s("v-card-title",{staticClass:"headline"},[e._v("信息")]),s("v-card-text",[s("v-form",{ref:"senderForm",attrs:{"lazy-validation":""},on:{submit:function(t){return t.preventDefault(),e.changeSender(t)}},model:{value:e.senderValid,callback:function(t){e.senderValid=t},expression:"senderValid"}},[s("v-text-field",{attrs:{label:"user_id",type:"number",rules:[e.required]},model:{value:e.tempSender.user_id,callback:function(t){e.$set(e.tempSender,"user_id",t)},expression:"tempSender.user_id"}}),s("v-text-field",{attrs:{label:"nickname",rules:[e.required]},model:{value:e.tempSender.nickname,callback:function(t){e.$set(e.tempSender,"nickname",t)},expression:"tempSender.nickname"}}),s("v-text-field",{attrs:{label:"card"},model:{value:e.tempSender.card,callback:function(t){e.$set(e.tempSender,"card",t)},expression:"tempSender.card"}}),s("v-text-field",{attrs:{label:"sex"},model:{value:e.tempSender.sex,callback:function(t){e.$set(e.tempSender,"sex",t)},expression:"tempSender.sex"}}),s("v-text-field",{attrs:{label:"age",type:"number"},model:{value:e.tempSender.age,callback:function(t){e.$set(e.tempSender,"age",t)},expression:"tempSender.age"}}),s("v-text-field",{attrs:{label:"area"},model:{value:e.tempSender.area,callback:function(t){e.$set(e.tempSender,"area",t)},expression:"tempSender.area"}}),s("v-text-field",{attrs:{label:"level",type:"number"},model:{value:e.tempSender.level,callback:function(t){e.$set(e.tempSender,"level",t)},expression:"tempSender.level"}}),s("v-select",{attrs:{label:"role",items:["owner","admin","member"],rules:[e.required]},model:{value:e.tempSender.role,callback:function(t){e.$set(e.tempSender,"role",t)},expression:"tempSender.role"}}),s("v-text-field",{attrs:{label:"title"},model:{value:e.tempSender.title,callback:function(t){e.$set(e.tempSender,"title",t)},expression:"tempSender.title"}})],1)],1),s("v-card-actions",[s("v-spacer"),s("v-btn",{attrs:{text:""},on:{click:function(t){e.senderModal=!1}}},[e._v("取消")]),s("v-btn",{attrs:{text:"",color:"primary",disabled:!e.senderValid},on:{click:e.changeSender}},[e._v("确定")])],1)],1)],1)],1)},L=[],D=(s("b0c0"),s("07ac"),s("ac1f"),s("5319"),s("5530")),F=s("60bb"),H=s.n(F),q=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-row",{attrs:{dense:""}},[s("v-col",{staticClass:"text-center",attrs:{cols:"12",sm:"6"}},[s("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[s("v-row",{attrs:{dense:""}},[s("v-col",{attrs:{cols:"6"}},[s("v-select",{attrs:{outlined:"",dense:"",items:e.adapters},model:{value:e.adapter,callback:function(t){e.adapter=t},expression:"adapter"}})],1),s("v-col",{attrs:{cols:"6"}},[s("v-select",{attrs:{outlined:"",dense:"",items:e.events},model:{value:e.event,callback:function(t){e.event=t},expression:"event"}})],1)],1),e._l(e.fields,(function(t,a){return["input"==t.type?s("v-text-field",{key:a,attrs:{outlined:"",dense:"",type:t.subType,label:t.label,rules:t.rules},model:{value:e.data[t.model],callback:function(s){e.$set(e.data,t.model,s)},expression:"data[field.model]"}}):"textarea"==t.type?s("v-textarea",{key:a,attrs:{outlined:"",dense:"",rows:2,label:t.label,rules:t.rules},model:{value:e.data[t.model],callback:function(s){e.$set(e.data,t.model,s)},expression:"data[field.model]"}}):"select"==t.type?s("v-select",{key:a,attrs:{outlined:"",dense:"",items:t.options,label:t.label,rules:t.rules},model:{value:e.data[t.model],callback:function(s){e.$set(e.data,t.model,s)},expression:"data[field.model]"}}):"switch"==t.type?s("v-switch",{key:a,attrs:{label:t.label},model:{value:e.data[t.model],callback:function(s){e.$set(e.data,t.model,s)},expression:"data[field.model]"}}):e._e()]})),s("v-btn",{staticClass:"mr-4",attrs:{color:"success",disabled:!e.valid},on:{click:e.submit}},[e._v("发送")]),e.testId?e._e():s("v-btn",{attrs:{color:"primary"},on:{click:e.save}},[e._v("保存")])],2)],1),s("v-col",{attrs:{cols:"12",sm:"6"}},[s("CodeTemplate",{attrs:{json:e.json}})],1)],1)},A=[],B=(s("d3b7"),s("ddb0"),s("c50d")),z=s.n(B),J=(s("4160"),s("159b"),s("ade3")),R=function(e){return!!e||"该项必填"};function U(e){if(!(e instanceof Array))return"";var t,s="",a=Object(l["a"])(e);try{for(a.s();!(t=a.n()).done;){var n=t.value;if("text"===n.type)s+=n.data.text;else{s+="[CQ:"+n.type;for(var o=0,r=Object.keys(n.data);o<r.length;o++){var i=r[o];s+=",".concat(i,"=").concat(n.data[i])}s+="]"}}}catch(c){a.e(c)}finally{a.f()}return s}var W={CQHTTP:{events:{message_private:{text:"私聊消息",value:"message_private",fields:[{type:"select",label:"消息子类型",model:"sub_type",options:["friend","group","discuss","other"],rules:[R]},{type:"input",subType:"number",label:"发送人QQ",model:"user_id",rules:[R]},{type:"textarea",label:"消息内容",model:"message",rules:[R]},{type:"input",subType:"number",label:"字体",model:"font"}],data:{sub_type:null,user_id:null,message:null,font:0},template:{self_id:"{{ self_id }}",time:"{{ current_time }}",post_type:"message",message_type:"private",sub_type:"{{ sub_type }}",message_id:"{{ message_id }}",user_id:"{{ parseInt(user_id) }}",message:"{{ message }}",raw_message:"{{ message }}",font:"{{ parseInt(font) }}",sender:"{{ senders[user_id] ? senders[user_id] : { user_id: -1, nickname: '请在设置中填写信息' } }}"},action:function(e,t){e.$store.dispatch("appendMessage",{position:"right",msg:t.message,data:t})}},message_group:{text:"群消息",value:"message_group",fields:[{type:"select",label:"消息子类型",model:"sub_type",options:["normal","anonymous","notice"],rules:[R]},{type:"input",subType:"number",label:"群号",model:"group_id",rules:[R]},{type:"input",subType:"number",label:"发送人QQ",model:"user_id",rules:[R]},{type:"textarea",label:"消息内容",model:"message",rules:[R]},{type:"input",subType:"number",label:"字体",model:"font"},{type:"input",subType:"number",label:"匿名用户ID",model:"anonymous_id"},{type:"input",subType:"text",label:"匿名用户名",model:"anonymous_name"},{type:"input",subType:"text",label:"匿名用户flag",model:"anonymous_flag"}],data:{sub_type:null,group_id:null,user_id:null,message:null,font:0,anonymous_id:null,anonymous_name:"",anonymous_flag:null},template:{self_id:"{{ self_id }}",time:"{{ current_time }}",post_type:"message",message_type:"group",sub_type:"{{ sub_type }}",message_id:"{{ message_id }}",group_id:"{{ parseInt(group_id) }}",user_id:"{{ parseInt(user_id) }}",anonymous:"{{ sub_type == 'anonymous' ? { id: parseInt(anonymous_id), name: anonymous_name, flag: anonymous_flag } : null }}",message:"{{ message }}",raw_message:"{{ message }}",font:"{{ parseInt(font) }}",sender:"{{ senders[user_id] ? senders[user_id] : { user_id: -1, nickname: '请在设置中填写信息' } }}"},action:function(e,t){e.$store.dispatch("appendMessage",{position:"right",msg:t.message,data:t})}},notice_group_upload:{text:"群文件上传",value:"notice_group_upload",fields:[{type:"input",subType:"number",label:"群号",model:"group_id",rules:[R]},{type:"input",subType:"number",label:"发送人QQ",model:"user_id",rules:[R]},{type:"input",subType:"text",label:"文件ID",model:"file_id"},{type:"input",subType:"text",label:"文件名",model:"file_name"},{type:"input",subType:"number",label:"文件大小",model:"file_size"},{type:"input",subType:"number",label:"busid",model:"file_busid"}],data:{group_id:null,user_id:null,file_id:null,file_name:"",file_size:null,file_busid:null},template:{self_id:"{{ self_id }}",time:"{{ current_time }}",post_type:"notice",notice_type:"group_upload",group_id:"{{ parseInt(group_id) }}",user_id:"{{ parseInt(user_id) }}",file:{id:"{{ file_id }}",name:"{{ file_name }}",size:"{{ parseInt(file_size) }}",busid:"{{ parseInt(file_busid) }}"}},action:function(e,t){e.$store.dispatch("appendMessage",{position:"center",msg:"群文件上传",data:t})}},notice_group_admin:{text:"群管理员变动",value:"notice_group_admin",fields:[{type:"select",label:"事件子类型",model:"sub_type",options:["set","unset"],rules:[R]},{type:"input",subType:"number",label:"群号",model:"group_id",rules:[R]},{type:"input",subType:"number",label:"管理员QQ",model:"user_id",rules:[R]}],data:{sub_type:null,group_id:null,user_id:null},template:{self_id:"{{ self_id }}",time:"{{ current_time }}",post_type:"notice",notice_type:"group_admin",sub_type:"{{ sub_type }}",group_id:"{{ parseInt(group_id) }}",user_id:"{{ parseInt(user_id) }}"},action:function(e,t){e.$store.dispatch("appendMessage",{position:"center",msg:"群管理员变动",data:t})}},notice_group_decrease:{text:"群成员减少",value:"notice_group_decrease",fields:[{type:"select",label:"事件子类型",model:"sub_type",options:["leave","kick","kick_me"],rules:[R]},{type:"input",subType:"number",label:"群号",model:"group_id",rules:[R]},{type:"input",subType:"number",label:"操作人QQ",model:"operator_id",rules:[R]},{type:"input",subType:"number",label:"离开人QQ",model:"user_id",rules:[R]}],data:{sub_type:null,group_id:null,operator_id:null,user_id:null},template:{self_id:"{{ self_id }}",time:"{{ current_time }}",post_type:"notice",notice_type:"group_decrease",sub_type:"{{ sub_type }}",group_id:"{{ parseInt(group_id) }}",operator_id:"{{ parseInt(operator_id) }}",user_id:"{{ parseInt(user_id) }}"},action:function(e,t){e.$store.dispatch("appendMessage",{position:"center",msg:"".concat(t.user_id,"离开了群聊"),data:t})}},notice_group_increase:{text:"群成员增加",value:"notice_group_increase",fields:[{type:"select",label:"事件子类型",model:"sub_type",options:["approve","invite"],rules:[R]},{type:"input",subType:"number",label:"群号",model:"group_id",rules:[R]},{type:"input",subType:"number",label:"操作人QQ",model:"operator_id",rules:[R]},{type:"input",subType:"number",label:"加入人QQ",model:"user_id",rules:[R]}],data:{sub_type:null,group_id:null,operator_id:null,user_id:null},template:{self_id:"{{ self_id }}",time:"{{ current_time }}",post_type:"notice",notice_type:"group_increase",sub_type:"{{ sub_type }}",group_id:"{{ parseInt(group_id) }}",operator_id:"{{ parseInt(operator_id) }}",user_id:"{{ parseInt(user_id) }}"},action:function(e,t){e.$store.dispatch("appendMessage",{position:"center",msg:"".concat(t.user_id,"加入了本群"),data:t})}},notice_group_ban:{text:"群禁言",value:"notice_group_ban",fields:[{type:"select",label:"事件子类型",model:"sub_type",options:["ban","lift_ban"],rules:[R]},{type:"input",subType:"number",label:"群号",model:"group_id",rules:[R]},{type:"input",subType:"number",label:"操作人QQ",model:"operator_id",rules:[R]},{type:"input",subType:"number",label:"被禁言人QQ",model:"user_id",rules:[R]},{type:"input",subType:"number",label:"禁言时间",model:"duration",rules:[R]}],data:{sub_type:null,group_id:null,operator_id:null,user_id:null,duration:null},template:{self_id:"{{ self_id }}",time:"{{ current_time }}",post_type:"notice",notice_type:"group_ban",sub_type:"{{ sub_type }}",group_id:"{{ parseInt(group_id) }}",operator_id:"{{ parseInt(operator_id) }}",user_id:"{{ parseInt(user_id) }}",duration:"{{ duration }}"},action:function(e,t){e.$store.dispatch("appendMessage",{position:"center",msg:"".concat(t.user_id,"被管理员禁言"),data:t})}},notice_friend_add:{text:"好友添加",value:"notice_friend_add",fields:[{type:"input",subType:"number",label:"添加人QQ",model:"user_id",rules:[R]}],data:{user_id:null},template:{self_id:"{{ self_id }}",time:"{{ current_time }}",post_type:"notice",notice_type:"friend_add",user_id:"{{ parseInt(user_id) }}"},action:function(e,t){e.$store.dispatch("appendMessage",{position:"center",msg:"你与".concat(t.user_id,"成为了好友"),data:t})}},request_friend:{text:"加好友请求",value:"request_friend",fields:[{type:"input",subType:"number",label:"添加人QQ",model:"user_id",rules:[R]},{type:"textarea",label:"验证信息",model:"comment"},{type:"input",label:"flag",model:"flag",rules:[R]}],data:{user_id:null,comment:"",flag:null},template:{self_id:"{{ self_id }}",time:"{{ current_time }}",post_type:"request",request_type:"friend",user_id:"{{ parseInt(user_id) }}",comment:"{{ comment }}",flag:"{{ flag }}"},action:function(e,t){e.$store.dispatch("appendMessage",{position:"center",msg:"".concat(t.user_id,"申请添加你为好友"),data:t})}},request_group:{text:"加群请求/邀请",value:"request_group",fields:[{type:"select",label:"请求子类型",model:"sub_type",options:["add","invite"],rules:[R]},{type:"input",subType:"number",label:"群号",model:"group_id",rules:[R]},{type:"input",subType:"number",label:"添加人QQ",model:"user_id",rules:[R]},{type:"textarea",label:"验证信息",model:"comment"},{type:"input",label:"flag",model:"flag",rules:[R]}],data:{sub_type:null,group_id:null,user_id:null,comment:"",flag:null},template:{self_id:"{{ self_id }}",time:"{{ current_time }}",post_type:"request",request_type:"group",sub_type:"{{ sub_type }}",group_id:"{{ parseInt(group_id) }}",user_id:"{{ parseInt(user_id) }}",comment:"{{ comment }}",flag:"{{ flag }}"},action:function(e,t){e.$store.dispatch("appendMessage",{position:"center",msg:"".concat(t.user_id,"申请/邀请你加入群聊").concat(t.group_id),data:t})}},meta_lifecycle:{text:"生命周期",value:"meta_lifecycle",fields:[{type:"select",label:"事件子类型",model:"sub_type",options:["enable","disable","connect"],rules:[R]}],data:{sub_type:null},template:{self_id:"{{ self_id }}",time:"{{ current_time }}",post_type:"meta_event",meta_event_type:"lifecycle",sub_type:"{{ sub_type }}"},action:function(e,t){e.$store.dispatch("appendMessage",{position:"center",msg:"元事件lifecycle",data:t})}},meta_heartbeat:{text:"心跳",value:"meta_heartbeat",fields:[{type:"switch",label:"QQ在线",model:"online"},{type:"input",subType:"number",label:"心跳间隔",model:"interval",rules:[R]}],data:{online:!0,interval:null},template:{self_id:"{{ self_id }}",time:"{{ current_time }}",post_type:"meta_event",meta_event_type:"heartbeat",status:{app_initialized:!0,app_enabled:!0,plugins_good:null,app_good:!0,online:"{{ online }}",good:"{{ online }}"},interval:"{{ parseInt(interval) }}"},action:function(e,t){e.$store.dispatch("appendMessage",{position:"center",msg:"元事件heartbeat",data:t})}}},apis:Object(J["a"])({send_private_msg:function(e,t){e.$store.dispatch("appendMessage",{position:"left",msg:"string"===typeof t.params.message?t.params.message:U(t.params.message)}),e.$socket.emit("event",["CQHTTP",{status:"success",retcode:1200,data:{message_id:e.$store.state.messages.length},echo:t.echo}])},send_group_msg:function(e,t){e.$store.dispatch("appendMessage",{position:"left",msg:"string"===typeof t.params.message?t.params.message:U(t.params.message)}),e.$socket.emit("event",["CQHTTP",{status:"success",retcode:1200,data:{message_id:e.$store.state.messages.length},echo:t.echo}])},send_msg:function(e,t){e.$store.dispatch("appendMessage",{position:"left",msg:"string"===typeof t.params.message?t.params.message:U(t.params.message)}),e.$socket.emit("event",["CQHTTP",{status:"success",retcode:1200,data:{message_id:e.$store.state.messages.length},echo:t.echo}])},delete_msg:function(e,t){t.params.message_id>=e.$store.state.messages.length&&e.$socket.emit("event",["CQHTTP",{status:"failed",retcode:1404,data:null,echo:t.echo}]),e.$store.dispatch("deleteMessage",t.params.message_id),e.$socket.emit("event",["CQHTTP",{status:"success",retcode:1200,data:null,echo:t.echo}])},get_msg:function(e,t){t.params.message_id>=e.$store.state.messages.length&&e.$socket.emit("event",["CQHTTP",{status:"failed",retcode:1404,data:null,echo:t.echo}]);var s=e.$store.state.messages[t.params.message_id];e.$socket.emit("event",["CQHTTP",{status:"success",retcode:1200,data:{time:s.time,message_type:s.message_type,message_id:s.message_id,real_id:s.message_id,sender:s.sender,message:s.message},echo:t.echo}])},send_like:function(e,t){e.$store.dispatch("appendMessage",{position:"center",msg:"向".concat(t.params.user_id,"发送").concat(t.params.times,"次好友赞")}),e.$socket.emit("event",["CQHTTP",{status:"success",retcode:1200,data:null,echo:t.echo}])},set_group_kick:function(e,t){e.$store.dispatch("appendMessage",{position:"center",msg:"群".concat(t.params.group_id,"踢出").concat(t.params.user_id)}),e.$socket.emit("event",["CQHTTP",{status:"success",retcode:1200,data:null,echo:t.echo}])},set_group_ban:function(e,t){e.$store.dispatch("appendMessage",{position:"center",msg:"群".concat(t.params.group_id,"禁言").concat(t.params.user_id," ").concat(t.params.duration,"秒")}),e.$socket.emit("event",["CQHTTP",{status:"success",retcode:1200,data:null,echo:t.echo}])},set_group_anonymous_ban:function(e,t){e.$store.dispatch("appendMessage",{position:"center",msg:"群".concat(t.params.group_id,"禁言").concat(t.params.anonymous||t.params.anonymous_flag," ").concat(t.params.duration,"秒")}),e.$socket.emit("event",["CQHTTP",{status:"success",retcode:1200,data:null,echo:t.echo}])},set_group_whole_ban:function(e,t){e.$store.dispatch("appendMessage",{position:"center",msg:"群".concat(t.params.group_id,"全员").concat(t.params.enable?"":"解除","禁言")}),e.$socket.emit("event",["CQHTTP",{status:"success",retcode:1200,data:null,echo:t.echo}])},set_group_admin:function(e,t){e.$store.dispatch("appendMessage",{position:"center",msg:"群".concat(t.params.group_id).concat(t.params.enable?"设置":"解除").concat(t.params.user_id,"管理员")}),e.$socket.emit("event",["CQHTTP",{status:"success",retcode:1200,data:null,echo:t.echo}])},set_group_anonymous:function(e,t){e.$store.dispatch("appendMessage",{position:"center",msg:"群".concat(t.params.group_id).concat(t.params.enable?"开启":"关闭","匿名聊天")}),e.$socket.emit("event",["CQHTTP",{status:"success",retcode:1200,data:null,echo:t.echo}])},set_group_card:function(e,t){e.$store.dispatch("appendMessage",{position:"center",msg:"群".concat(t.params.group_id," ").concat(t.params.user_id,"设置群名片为").concat(t.params.card)}),e.$socket.emit("event",["CQHTTP",{status:"success",retcode:1200,data:null,echo:t.echo}])},set_group_name:function(e,t){e.$store.dispatch("appendMessage",{position:"center",msg:"群".concat(t.params.group_id,"设置群名为").concat(t.params.group_name)}),e.$socket.emit("event",["CQHTTP",{status:"success",retcode:1200,data:null,echo:t.echo}])},set_group_leave:function(e,t){e.$store.dispatch("appendMessage",{position:"center",msg:"".concat(t.params.is_dismiss?"解散":"退出","群").concat(t.params.group_id)}),e.$socket.emit("event",["CQHTTP",{status:"success",retcode:1200,data:null,echo:t.echo}])},set_group_special_title:function(e,t){e.$store.dispatch("appendMessage",{position:"center",msg:"群".concat(t.params.group_id,"设置").concat(t.params.user_id,"头衔为").concat(t.params.special_title)}),e.$socket.emit("event",["CQHTTP",{status:"success",retcode:1200,data:null,echo:t.echo}])},set_friend_add_request:function(e,t){e.$store.dispatch("appendMessage",{position:"center",msg:"".concat(t.params.approve?"通过":"拒绝","了").concat(t.params.flag,"的好友请求")}),e.$socket.emit("event",["CQHTTP",{status:"success",retcode:1200,data:null,echo:t.echo}])},set_group_add_request:function(e,t){e.$store.dispatch("appendMessage",{position:"center",msg:"".concat(t.params.approve?"通过":"拒绝","了").concat(t.params.flag,"的加群请求")}),e.$socket.emit("event",["CQHTTP",{status:"success",retcode:1200,data:null,echo:t.echo}])},get_login_info:function(e,t){e.$store.dispatch("appendMessage",{position:"center",msg:"获取登录号信息"});var s=e.$store.state.envs.self_id,a=e.$store.state.envs.senders[s];e.$socket.emit("event",["CQHTTP",{status:"success",retcode:1200,data:{user_id:s,nickname:a?a.nickname:"Unknown"},echo:t.echo}])},get_stranger_info:function(e,t){e.$store.dispatch("appendMessage",{position:"center",msg:"获取陌生人".concat(t.params.user_id,"信息")});var s=e.$store.state.envs.senders[t.params.user_id];e.$socket.emit("event",["CQHTTP",{status:"success",retcode:1200,data:{user_id:t.params.user_id,nickname:s?s.nickname:"Unknown",sex:s?s.sex:"unknown",age:s?s.age:"unknown"},echo:t.echo}])}},"get_stranger_info",(function(e,t){e.$store.dispatch("appendMessage",{position:"center",msg:"获取好友列表"});var s=Object.values(e.$store.state.envs.senders);s.forEach((function(e){return{user_id:e.user_id,nickname:e.nickname,remark:e.nickname}})),e.$socket.emit("event",["CQHTTP",{status:"success",retcode:1200,data:s,echo:t.echo}])}))}},X=W,K=s("c50a"),Y=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("pre",{attrs:{id:"code"}},[e._v("  "),s("code",{staticClass:"json hljs",domProps:{innerHTML:e._s(e.highlighted)}}),e._v("\n")])},Z=[],ee=s("1020"),te=s.n(ee),se=s("325b"),ae=s.n(se),ne=s("6103"),oe=s.n(ne),re={name:"CodeTemplate",props:{json:{type:Object,default:function(){}}},computed:{highlighted:function(){return this.highlightJson(this.prettierJson(JSON.stringify(this.json)))}},methods:{prettierJson:function(e){return ae.a.format(e,{printWidth:36,parser:"json",plugins:[oe.a]})},highlightJson:function(e){return te.a.highlight("json",e).value}}},ie=re,le=(s("9624"),Object(p["a"])(ie,Y,Z,!1,null,"6de4ecb9",null)),ce=le.exports,ue={name:"Sender",components:{CodeTemplate:ce},props:{testId:{type:String,required:!0}},data:function(){return{templates:X,test:{},valid:!0,changed:!1}},computed:{envs:function(){return this.$store.state.envs},tests:function(){return this.$store.state.tests},fields:function(){return this.adapter&&this.event?this.templates[this.adapter].events[this.event].fields:[]},data:{get:function(){if(this.testId&&this.adapter&&this.event)return this.test.data;if(this.adapter&&this.event){var e=this.templates[this.adapter].events[this.event].data;return this.$set(this.test,"data",e),e}return{}},set:function(e){this.changed=!0,this.$set(this.test,"data",e)}},code:function(){return this.adapter&&this.event?this.templates[this.adapter].events[this.event].template:{}},json:function(){return z.a.select(Object(D["a"])(Object(D["a"])(Object(D["a"])({},this.envs),this.data),{},{current_time:Math.floor((new Date).getTime()/1e3),message_id:this.$store.state.messages.length})).transformWith(this.code).root()},adapters:function(){return H.a.keys(this.templates)},events:function(){return this.adapter?H.a.values(this.templates[this.adapter].events):[]},adapter:{get:function(){return this.test.adapter},set:function(e){this.changed=!0,this.$set(this.test,"adapter",e),this.$set(this.test,"event",""),this.$set(this.test,"data",{})}},event:{get:function(){return this.test.event},set:function(e){this.changed=!0,this.$set(this.test,"event",e),this.$set(this.test,"data",this.templates[this.adapter].events[e].data)}}},watch:{test:{deep:!0,handler:function(e){this.testId&&this.changed&&(console.log("[i] Update test"),this.$store.dispatch("updateTest",e))}},$route:"restoreTest"},sockets:{api:function(e){try{console.log("[👇] Receive ".concat(e[0]," API: ").concat(JSON.stringify(e[1]))),this.templates[e[0]]?this.templates[e[0]].apis[e[1].action]?this.templates[e[0]].apis[e[1].action](this,e[1]):(console.log("[!] Adapter ".concat(e[0]," API ").concat(e[1].action," Not Found!")),this.$toastr.error("Adapter ".concat(e[0]," API ").concat(e[1].action," Not Found"),"Unknow API!"),this.$socket.emit("event",[e[0],{status:"failed",retcode:1404,data:null,echo:e.echo}])):(console.log("[!] Adapter ".concat(e[0]," Not Found!")),this.$toastr.error("Adapter ".concat(e[0]," Not Found"),"Unknow Adapter!"))}catch(t){console.error("[!] Error when parsing api request:",t)}}},methods:{submit:function(){if(this.$refs.form.validate()){if(this.$socket.disconnected)return void this.$toastr.error("Please config settings.","WebSocket not connected!");console.log("[☝] Send ".concat(this.adapter," Event: ").concat(JSON.stringify(this.json))),this.$socket.emit("event",[this.adapter,this.json]),this.templates[this.adapter].events[this.event].action&&this.templates[this.adapter].events[this.event].action(this,this.json)}},save:function(){if(!this.testId){this.$set(this.test,"name","未命名测试"),this.$store.dispatch("updateTest",this.test);var e=this.$store.state.groups[this.test.group].tests;this.$set(e,e.length,this.test.id),this.$router.replace({name:"frontend-restore",params:{testId:this.test.id}})}},restoreTest:function(){this.testId?this.test=this.tests[this.testId]:this.test={id:Object(K["a"])(),name:"未保存测试",group:this.$store.state.defaultGroup,created_at:(new Date).getTime(),adapter:"",event:"",data:{}}},handleUnload:function(e){if(e=e||window.eevnt,e&&(e.returnValue="当前页面数据未保存，确定要离开？"),this.changed&&!this.testId)return"当前页面数据未保存，确定要离开？"}},created:function(){var e=this;window.addEventListener("onbeforeunload",(function(t){return e.handleUnload(t)}))},mounted:function(){this.restoreTest()},destroyed:function(){var e=this;window.removeEventListener("onbeforeunload",(function(t){return e.handleUnload(t)}))},beforeRouteLeave:function(e,t,s){this.changed&&!this.testId&&(window.confirm("当前页面数据未保存，确定要离开？")?s():s(!1))}},de=ue,pe=(s("1fda"),s("4bd4")),me=s("b974"),fe=s("b73d"),ve=s("8654"),ge=s("a844"),he=Object(p["a"])(de,q,A,!1,null,"34642308",null),_e=he.exports;b()(he,{VBtn:x["a"],VCol:$["a"],VForm:pe["a"],VRow:O["a"],VSelect:me["a"],VSwitch:fe["a"],VTextField:ve["a"],VTextarea:ge["a"]});var be=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"qq-chat"},[a("v-card",{staticClass:"elevation-6"},[a("v-toolbar",{attrs:{color:"primary",dark:"",dense:"",flat:""}},[a("v-row",{attrs:{"no-gutters":""}},[a("v-col",[a("v-row",{attrs:{"no-gutters":"",justify:"space-between"}},[a("v-col",{attrs:{cols:"auto"}},[a("v-icon",{attrs:{small:""}},[e._v("fa-chevron-left")])],1),a("v-col",{attrs:{cols:"auto"}},[a("h3",[e._v("🔥")])])],1)],1),a("v-col",{attrs:{cols:"auto"}},[a("h3",[e._v("NoneBot")])]),a("v-col",{staticClass:"text-right"},[a("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var s=t.on,n=t.attrs;return[a("v-btn",e._g(e._b({staticClass:"mr-2",attrs:{icon:"",small:"",disabled:""}},"v-btn",n,!1),s),[a("v-icon",{attrs:{small:""}},[e._v("fa-terminal")])],1)]}}])},[a("span",[e._v("Terminal")])]),a("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var s=t.on,n=t.attrs;return[a("v-btn",e._g(e._b({attrs:{icon:"",small:""},on:{click:function(t){return e.clearMessages()}}},"v-btn",n,!1),s),[a("v-icon",{attrs:{small:""}},[e._v("fa-trash-alt")])],1)]}}])},[a("span",[e._v("Clear")])])],1)],1)],1),a("v-container",{ref:"chat",staticClass:"chat chat-bg",attrs:{fluid:""}},[e._l(e.messages,(function(t,n){return["right"===t.position?a("v-row",{key:n,staticClass:"message wow animate__fadeInRight",attrs:{justify:"end","data-wow-duration":"0.7s","data-wow-offset":e.offset}},[a("div",{staticClass:"message-box",domProps:{innerHTML:e._s(e.escape(t.msg).replace(/\n/g,"<br/>").replace(/ /g,"&nbsp;"))}}),a("v-avatar",{attrs:{color:"blue lighten-2",size:"36"}},[a("v-icon",{attrs:{small:""}},[e._v("fa-user")])],1)],1):"left"===t.position?a("v-row",{key:n,staticClass:"message wow animate__fadeInLeft",attrs:{justify:"start","data-wow-duration":"0.7s","data-wow-offset":e.offset}},[a("v-avatar",{attrs:{color:"transparent",size:"36"}},[a("v-img",{attrs:{src:s("cf05")}})],1),a("div",{staticClass:"message-box",domProps:{innerHTML:e._s(e.escape(t.msg).replace(/\n/g,"<br/>").replace(/ /g,"&nbsp;"))}})],1):a("v-row",{key:n,staticClass:"notify mt-1 wow animate__fadeIn",attrs:{justify:"center","data-wow-duration":"0.7s","data-wow-offset":e.offset}},[a("div",{staticClass:"notify-box"},[a("span",{staticStyle:{display:"inline","white-space":"nowrap"}},[a("v-icon",{attrs:{"x-small":"",color:"blue",left:""}},[e._v("fa-info-circle")])],1),a("span",{domProps:{innerHTML:e._s(e.escape(t.msg).replace(/\n/g,"<br/>").replace(/ /g,"&nbsp;"))}})])])]}))],2),a("v-container",{staticClass:"chat-bg py-0",attrs:{fluid:""}},[a("v-row",{staticClass:"mx-0",attrs:{dense:""}},[a("v-col",[a("v-text-field",{attrs:{dense:"",solo:"","hide-details":"",height:"28px"}})],1),a("v-col",{attrs:{cols:"auto"}},[a("v-btn",{staticStyle:{"font-size":"0.8rem"},attrs:{color:"primary",small:"",rounded:"",depressed:""}},[e._v("发送")])],1)],1),a("v-row",{staticClass:"text-center",attrs:{"no-gutters":""}},[a("v-col",{staticClass:"pa-1",attrs:{cols:"2"}},[a("v-icon",{attrs:{small:""}},[e._v("fa-microphone")])],1),a("v-col",{staticClass:"pa-1",attrs:{cols:"2"}},[a("v-icon",{attrs:{small:""}},[e._v("fa-image")])],1),a("v-col",{staticClass:"pa-1",attrs:{cols:"2"}},[a("v-icon",{attrs:{small:""}},[e._v("fa-camera")])],1),a("v-col",{staticClass:"pa-1",attrs:{cols:"2"}},[a("v-icon",{attrs:{small:""}},[e._v("fa-wallet")])],1),a("v-col",{staticClass:"pa-1",attrs:{cols:"2"}},[a("v-icon",{attrs:{small:""}},[e._v("fa-smile-wink")])],1),a("v-col",{staticClass:"pa-1",attrs:{cols:"2"}},[a("v-icon",{attrs:{small:""}},[e._v("fa-plus-circle")])],1)],1)],1)],1)],1)},ye=[],xe=s("c5e1"),we=s.n(xe),ke=s("bc1b"),$e={name:"Messenger",data:function(){return{wow:null,offset:0}},computed:{messages:function(){if(this.wow){var e=this;this.$nextTick((function(){e.wow.sync()}))}return this.$store.state.messages}},methods:{escape:function(e){return e.replace("&","&amp;").replace("<","&lt;").replace(">","&gt;")},initWOW:function(){this.wow=new ke["WOW"]({scrollContainer:".chat",noxClass:"wow",animateClass:"animate__animated",offset:0,mobile:!0,live:!0}),this.wow.init(),this.offset=we()(window).height()+we()(window).scrollTop()-we()(".chat").offset().top-350;var e=this;window.onscroll=function(){e.offset=we()(window).height()+we()(window).scrollTop()-we()(".chat").offset().top-350}},clearMessages:function(){this.$store.dispatch("clearMessages")}},mounted:function(){this.initWOW()}},Te=$e,Ce=(s("ab0c"),s("8212")),Ie=s("adda"),Se=s("71d9"),Ve=s("3a2f"),Me=Object(p["a"])(Te,be,ye,!1,null,"7c878ca6",null),je=Me.exports;b()(Me,{VAvatar:Ce["a"],VBtn:x["a"],VCard:w["a"],VCol:$["a"],VContainer:T["a"],VIcon:M["a"],VImg:Ie["a"],VRow:O["a"],VTextField:ve["a"],VToolbar:Se["a"],VTooltip:Ve["a"]});var Pe={name:"Frontend",components:{Sender:_e,Messenger:je},props:{testId:{type:String,required:!1,default:""}},data:function(){return{required:function(e){return!!e||"该项必填"},settingModal:!1,settingValid:!0,tempEnvs:{self_id:"",senders:{}},senderKeys:[{text:"ID",value:"user_id",align:"center",sortable:!1},{text:"昵称",value:"nickname",align:"center",sortable:!1},{text:"群名片",value:"card",align:"center",sortable:!1},{text:"性别",value:"sex",align:"center",sortable:!1},{text:"年龄",value:"age",align:"center",sortable:!1},{text:"地区",value:"area",align:"center",sortable:!1},{text:"等级",value:"level",align:"center",sortable:!1},{text:"身份",value:"role",align:"center",sortable:!1},{text:"专属头衔",value:"title",align:"center",sortable:!1},{text:"操作",value:"action",align:"center",sortable:!1}],senderModal:!1,currentSender:"",senderValid:!0,tempSender:{user_id:"",nickname:"",card:"",sex:"",age:"",area:"",level:"",role:"",title:""}}},computed:{envs:{get:function(){return this.$store.state.envs},set:function(e){console.log("[i] Update envs"),this.$store.dispatch("updateEnv",e)}},groups:function(){return this.$store.state.groups},tests:function(){return this.$store.state.tests},group:function(){return this.test.group?this.groups[this.test.group]:{}},test:function(){return this.testId&&this.tests[this.testId]||{}},breadcrumbs:function(){return[{text:this.group.name||"未分类"},{text:this.test.name||"未保存测试"}]},tempSenders:function(){return Object.values(this.tempEnvs.senders)}},methods:{copyEnv:function(){this.tempEnvs=H.a.cloneDeep(this.envs)},saveEnv:function(){if(this.$refs.settingForm.validate()){this.settingModal=!1;var e=!1;this.tempEnvs.self_id!==this.envs.self_id&&(e=!0),this.envs=H.a.cloneDeep(this.tempEnvs),e&&(this.$socket.io.opts.transportOptions.polling.extraHeaders["X-Self-ID"]=this.$store.state.envs.self_id,this.$socket.connected&&this.$socket.disconnect(),this.$socket.io.reconnecting=!1,this.$socket.io.onclose())}},deleteSender:function(e){this.$delete(this.tempEnvs.senders,e)},copySender:function(e){this.currentSender=e,this.tempSender=Object(D["a"])({},this.tempEnvs.senders[e])},clearSender:function(){this.tempSender={user_id:"",nickname:"",card:"",sex:"",age:"",area:"",level:"",role:"",title:""}},changeSender:function(){this.$refs.senderForm.validate()&&(this.senderModal=!1,this.tempSender.user_id=parseInt(this.tempSender.user_id),this.tempSender.age=parseInt(this.tempSender.age)||null,this.tempSender.level=parseInt(this.tempSender.level)||null,this.currentSender!==this.tempSender.user_id&&this.$delete(this.tempEnvs.senders,this.currentSender),this.$set(this.tempEnvs.senders,this.tempSender.user_id,this.tempSender))}},mounted:function(){this.testId&&!this.tests[this.testId]&&this.$router.replace({name:"frontend"})}},Oe=Pe,Ge=(s("8427"),s("2bc5")),Ne=s("8fea"),Qe=s("169a"),Ee=s("ce7e"),Le=s("2fa4"),De=s("2a7f"),Fe=Object(p["a"])(Oe,E,L,!1,null,"7ef40eb0",null),He=Fe.exports;b()(Fe,{VBreadcrumbs:Ge["a"],VBtn:x["a"],VCard:w["a"],VCardActions:k["a"],VCardText:k["b"],VCardTitle:k["c"],VCol:$["a"],VContainer:T["a"],VDataTable:Ne["a"],VDialog:Qe["a"],VDivider:Ee["a"],VForm:pe["a"],VIcon:M["a"],VRow:O["a"],VSelect:me["a"],VSpacer:Le["a"],VTextField:ve["a"],VToolbar:Se["a"],VToolbarTitle:De["a"]}),a["a"].use(n["a"]);var qe=[{path:"/",name:"Home",component:Q},{path:"/frontend",name:"frontend",component:He},{path:"/frontend/:testId",name:"frontend-restore",component:He,props:!0},{path:"*",redirect:"/"}],Ae=new n["a"]({mode:"hash",base:"/test/",routes:qe}),Be=Ae,ze=s("2f62");a["a"].use(ze["a"]);var Je=new ze["a"].Store({state:{groups:{},tests:{},groupIndex:[],defaultGroup:"",messages:[],envs:{self_id:"",senders:{}}},mutations:{updateGroup:function(e,t){t&&t.id&&(e.groups[t.id]=Object(D["a"])(Object(D["a"])({},e.groups[t.id]),t),localStorage.setItem("nonebot-groups",JSON.stringify(e.groups)))},updateGroups:function(e,t){t&&(e.groups=t,localStorage.setItem("nonebot-groups",JSON.stringify(e.groups)))},updateDefaultGroup:function(e,t){t&&(e.defaultGroup=t)},updateTest:function(e,t){t&&t.id&&(e.tests[t.id]=Object(D["a"])(Object(D["a"])({},e.tests[t.id]),t),localStorage.setItem("nonebot-tests",JSON.stringify(e.tests)))},updateTests:function(e,t){t&&(e.tests=t,localStorage.setItem("nonebot-tests",JSON.stringify(e.tests)))},updateGroupIndex:function(e,t){t&&(e.groupIndex=t,localStorage.setItem("nonebot-groupIndex",JSON.stringify(e.groupIndex)))},appendMessage:function(e,t){t&&e.messages.push(t)},appendMessages:function(e,t){t&&e.messages.concat(t)},deleteMessage:function(e,t){t&&a["a"].delete(e.messages,t)},clearMessages:function(e){e.messages=[]},updateEnv:function(e,t){t&&(e.envs=t,localStorage.setItem("nonebot-envs",JSON.stringify(e.envs)))}},actions:{updateGroup:function(e,t){var s=e.commit;s("updateGroup",t)},updateGroups:function(e,t){var s=e.commit;s("updateGroups",t)},restoreGroups:function(e,t){var s=e.commit;for(var a in t)!0===t[a].default&&s("updateDefaultGroup",a);s("updateGroups",t)},updateTest:function(e,t){var s=e.commit;s("updateTest",t)},updateTests:function(e,t){var s=e.commit;s("updateTests",t)},updateGroupIndex:function(e,t){var s=e.commit;s("updateGroupIndex",t)},appendMessage:function(e,t){var s=e.commit;s("appendMessage",t)},appendMessages:function(e,t){var s=e.commit;s("appendMessages",t)},deleteMessage:function(e,t){var s=e.commit;s("deleteMessage",t)},clearMessages:function(e){var t=e.commit;t("clearMessages")},updateEnv:function(e,t){var s=e.commit;s("updateEnv",t)}},modules:{}}),Re=s("bc3a"),Ue=s.n(Re),We={baseURL:"/test/"},Xe=Ue.a.create(We);Xe.interceptors.request.use((function(e){return e}),(function(e){return Promise.reject(e)})),Xe.interceptors.response.use((function(e){return e}),(function(e){return Promise.reject(e)}));var Ke={install:function(e,t){e.axios=Xe,Object.defineProperties(e.prototype,{axios:{get:function(){return Xe}},$axios:{get:function(){return Xe}}})}},Ye=Ke,Ze=s("5132"),et=s.n(Ze),tt=function(e){return a["a"].use(new et.a({debug:!1,connection:"/",vuex:{store:e,actionPrefix:"SOCKET_"},options:{path:"/test_ws/socket",autoConnect:!1,transportOptions:{polling:{extraHeaders:{Authorization:e.state.envs.access_token,"X-Self-ID":e.state.envs.self_id}}}}}))},st=s("854a"),at=s.n(st);s("d304");at.a.options.closeButton=!0,at.a.options.positionClass="toast-bottom-right";var nt={install:function(e,t){e.toastr=at.a,Object.defineProperties(e.prototype,{toastr:{get:function(){return at.a}},$toastr:{get:function(){return at.a}}})}},ot=nt,rt=s("5ad2"),it=s.n(rt),lt=s("f309");a["a"].use(lt["a"]);var ct=new lt["a"]({icons:{iconfont:"fa",values:{gratipay:"fab fa-gratipay"}}}),ut=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",[a("v-navigation-drawer",{attrs:{app:"",color:"#f2f6f8"},model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[a("router-link",{staticClass:"home",attrs:{to:"/"}},[a("v-list-item",[a("v-list-item-avatar",[a("v-img",{attrs:{src:s("cf05")}})],1),a("v-list-item-content",[a("v-list-item-title",[a("h2",[e._v("NoneBot")])])],1)],1)],1),a("v-divider"),a("Grouper")],1),a("v-app-bar",{attrs:{app:"",color:"#f2f6f8",flat:""}},[a("v-app-bar-nav-icon",{on:{click:function(t){e.drawer=!e.drawer}}}),a("v-spacer"),a("v-btn",{attrs:{href:"https://v2.nonebot.dev/",target:"_blank",text:""}},[a("span",{staticClass:"mr-2"},[e._v("NoneBot")]),a("v-icon",{attrs:{small:""}},[e._v("fa-external-link-alt")])],1),a("v-btn",{attrs:{href:"https://github.com/nonebot",target:"_blank",text:""}},[a("span",{staticClass:"mr-2"},[e._v("GitHub")]),a("v-icon",{attrs:{small:""}},[e._v("fa-external-link-alt")])],1)],1),a("v-main",{staticStyle:{background:"#f2f6f8"}},[a("v-container",{attrs:{fluid:""}},[a("router-view")],1)],1),a("v-footer",{attrs:{app:"",color:"#f2f6f8",padless:""}},[a("v-container",{staticClass:"pa-0",attrs:{fluid:""}},[a("v-divider"),a("v-row",{attrs:{align:"center",justify:"center"}},[a("v-col",{staticClass:"text-center",attrs:{cols:"auto"}},[a("span",[a("v-icon",{attrs:{small:"",left:""}},[e._v("$gratipay")]),e._v("Disigned by yanyongyu ")],1)]),a("v-col",{staticClass:"text-center",attrs:{cols:"auto"}},[a("span",[a("v-icon",{attrs:{small:"",left:""}},[e._v("fa-copyright")]),e._v("NoneBot ")],1)])],1)],1)],1)],1)},dt=[],pt=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("v-toolbar",{attrs:{flat:"",dense:"",color:"#f2f6f8"}},[s("v-toolbar-title",[e._v("分组")]),s("v-spacer"),s("v-btn",{attrs:{icon:"",small:""},on:{click:e.pushEmpty}},[s("v-icon",{attrs:{small:""}},[e._v("fa-file-medical")])],1),s("v-btn",{attrs:{icon:"",small:""},on:{click:function(t){return e.openNewGroupModal()}}},[s("v-icon",{attrs:{small:""}},[e._v("fa-folder-plus")])],1)],1),s("v-list",{attrs:{dense:"",shaped:"",expand:"",subheader:""}},e._l(e.groupIndex,(function(t,a){return s("v-list-group",{key:t,staticClass:"group",attrs:{color:"#d12e2e"},scopedSlots:e._u([{key:"activator",fn:function(){return[s("v-list-item-title",[e._v(e._s(e.groups[t].name))]),s("v-list-item-icon",[s("v-btn",{attrs:{icon:"",small:""}},[s("v-icon",{attrs:{small:""},on:{click:function(t){return t.stopPropagation(),e.moveUpGroup(a)}}},[e._v("fa-chevron-up")])],1)],1),s("v-list-item-icon",[s("v-btn",{attrs:{icon:"",small:""}},[s("v-icon",{attrs:{small:""},on:{click:function(t){return t.stopPropagation(),e.moveDownGroup(a)}}},[e._v("fa-chevron-down")])],1)],1),e.groups[t].editable?s("v-list-item-icon",[s("v-btn",{attrs:{icon:"",small:""},on:{click:function(s){return s.stopPropagation(),e.openGroupModal(t)}}},[s("v-icon",{attrs:{small:""}},[e._v("fa-edit")])],1)],1):e._e(),e.groups[t].removable?s("v-list-item-icon",[s("v-btn",{attrs:{icon:"",small:""},on:{click:function(t){return t.stopPropagation(),e.deleteGroup(a)}}},[s("v-icon",{attrs:{small:""}},[e._v("fa-trash-alt")])],1)],1):e._e()]},proxy:!0},{key:"appendIcon",fn:function(){return[s("v-icon",{staticClass:"ml-4",attrs:{small:""}},[e._v("fa-caret-up")])]},proxy:!0}],null,!0),model:{value:e.groups[t].expand,callback:function(s){e.$set(e.groups[t],"expand",s)},expression:"groups[groupId].expand"}},[s("draggable",{attrs:{group:"group",draggable:".item"},on:{add:function(s){return e.onTestRearrange(t,s)}},model:{value:e.groups[t].tests,callback:function(s){e.$set(e.groups[t],"tests",s)},expression:"groups[groupId].tests"}},[s("v-subheader",{directives:[{name:"show",rawName:"v-show",value:0==e.groups[t].tests.length,expression:"groups[groupId].tests.length == 0"}],attrs:{slot:"header",inset:""},slot:"header"},[e._v("Nothing here...")]),e._l(e.groups[t].tests,(function(a,n){return s("v-list-item",{key:a,staticClass:"item",attrs:{color:"#d12e2e",link:"",exact:"",to:{name:"frontend-restore",params:{testId:a}}}},[s("v-list-item-avatar",{attrs:{size:28}},[s("v-icon",{attrs:{small:""}},[e._v("fa-grip-vertical")])],1),s("v-list-item-title",[e._v(e._s(e.tests[a].name))]),s("v-list-item-icon",[s("v-btn",{attrs:{icon:"",small:""},on:{click:function(t){return t.preventDefault(),e.openTestModal(a)}}},[s("v-icon",{attrs:{small:""}},[e._v("fa-edit")])],1)],1),s("v-list-item-icon",[s("v-btn",{attrs:{icon:"",small:""},on:{click:function(s){return s.preventDefault(),e.deleteTest(t,n)}}},[s("v-icon",{attrs:{small:""}},[e._v("fa-trash-alt")])],1)],1)],1)}))],2)],1)})),1),s("v-dialog",{attrs:{"max-width":"350"},model:{value:e.newGroupModal,callback:function(t){e.newGroupModal=t},expression:"newGroupModal"}},[s("v-card",[s("v-card-title",{staticClass:"headline"},[e._v("新建分组")]),s("v-card-text",[s("v-form",{ref:"newGroupForm",attrs:{"lazy-validation":""},on:{submit:function(t){return t.preventDefault(),e.appendGroup()}},model:{value:e.newGroupValid,callback:function(t){e.newGroupValid=t},expression:"newGroupValid"}},[s("v-text-field",{attrs:{label:"分组名",rules:[e.required],required:""},model:{value:e.newGroupName,callback:function(t){e.newGroupName=t},expression:"newGroupName"}})],1)],1),s("v-card-actions",[s("v-spacer"),s("v-btn",{attrs:{text:""},on:{click:function(t){e.newGroupModal=!1}}},[e._v("取消")]),s("v-btn",{attrs:{text:"",color:"primary",disabled:!e.newGroupValid},on:{click:function(t){return e.appendGroup()}}},[e._v("确定")])],1)],1)],1),s("v-dialog",{attrs:{"max-width":"350"},model:{value:e.groupModal,callback:function(t){e.groupModal=t},expression:"groupModal"}},[s("v-card",[s("v-card-title",{staticClass:"headline"},[e._v("修改分组")]),s("v-card-text",[s("v-form",{ref:"groupForm",attrs:{"lazy-validation":""},on:{submit:function(t){return t.preventDefault(),e.changeGroup()}},model:{value:e.groupValid,callback:function(t){e.groupValid=t},expression:"groupValid"}},[s("v-text-field",{attrs:{label:"分组名",rules:[e.required],required:""},model:{value:e.groupName,callback:function(t){e.groupName=t},expression:"groupName"}})],1)],1),s("v-card-actions",[s("v-spacer"),s("v-btn",{attrs:{text:""},on:{click:function(t){e.groupModal=!1}}},[e._v("取消")]),s("v-btn",{attrs:{text:"",color:"primary",disabled:!e.groupValid},on:{click:function(t){return e.changeGroup()}}},[e._v("确定")])],1)],1)],1),s("v-dialog",{attrs:{"max-width":"350"},model:{value:e.testModal,callback:function(t){e.testModal=t},expression:"testModal"}},[s("v-card",[s("v-card-title",{staticClass:"headline"},[e._v("修改名称")]),s("v-card-text",[s("v-form",{ref:"itemForm",attrs:{"lazy-validation":""},on:{submit:function(t){return t.preventDefault(),e.changeTest()}},model:{value:e.testValid,callback:function(t){e.testValid=t},expression:"testValid"}},[s("v-text-field",{attrs:{label:"名称",rules:[e.required],required:""},model:{value:e.testName,callback:function(t){e.testName=t},expression:"testName"}})],1)],1),s("v-card-actions",[s("v-spacer"),s("v-btn",{attrs:{text:""},on:{click:function(t){e.testModal=!1}}},[e._v("取消")]),s("v-btn",{attrs:{text:"",color:"primary",disabled:!e.testValid},on:{click:function(t){return e.changeTest()}}},[e._v("确定")])],1)],1)],1)],1)},mt=[],ft=(s("a434"),s("1940")),vt=s.n(ft),gt=s("310e"),ht=s.n(gt),_t={name:"Grouper",components:{draggable:ht.a},data:function(){return{groups:{},tests:{},groupIndex:[],required:function(e){return!!e||"名称不能为空！"},newGroupName:"",newGroupModal:!1,newGroupValid:!0,groupId:"",groupName:"",groupModal:!1,groupValid:!0,testId:"",testName:"",testModal:!1,testValid:!0}},watch:{groups:{deep:!0,handler:function(e){console.log("[i] Update group"),this.$store.dispatch("updateGroups",e)}},tests:{deep:!0,handler:function(e){console.log("[i] Update test"),this.$store.dispatch("updateTests",e)}},groupIndex:{deep:!0,handler:function(e){console.log("[i] Update index"),this.$store.dispatch("updateGroupIndex",e)}}},methods:{pushEmpty:function(){"frontend"!==this.$route.name&&this.$router.push({name:"frontend"})},openNewGroupModal:function(e){this.newGroupName=e||"",this.newGroupModal=!0},openGroupModal:function(e){this.groupId=e,this.groupName=this.groups[e].name,this.groupModal=!0},openTestModal:function(e){this.testId=e,this.testName=this.tests[this.testId].name,this.testModal=!0},appendGroup:function(){if(this.$refs.newGroupForm.validate()){var e=Object(K["a"])();this.$set(this.groups,e,{id:e,name:this.newGroupName,expand:!0,default:!1,editable:!0,removable:!0,tests:[]}),this.groupIndex.push(e),this.newGroupModal=!1}},changeGroup:function(){this.$refs.groupForm.validate()&&(this.$set(this.groups[this.groupId],"name",this.groupName),this.groupModal=!1)},deleteGroup:function(e){var t=this;vt()("确认删除分组？","该操作将同时删除分组内所有测试用例！",{icon:"warning",buttons:{cancel:"取消",confirm:{text:"确认",value:!0}},dangerMode:!0}).then((function(s){if(s){for(var a=t.groupIndex.splice(e,1)[0],n=0;n<t.groups[a].tests.length;n++){var o=t.groups[a].tests[n];"frontend-restore"===t.$route.name&&t.$route.params.testId===o&&t.$router.replace({name:"frontend"}),console.log("[i] Delete test ".concat(o)),t.$delete(t.tests,o)}console.log("[i] Delete group ".concat(a)),t.$delete(t.groups,a)}}))},moveUpGroup:function(e){0!==e&&(this.groupIndex[e]=this.groupIndex.splice(e-1,1,this.groupIndex[e])[0])},moveDownGroup:function(e){e!==this.groupIndex.length-1&&(this.groupIndex[e]=this.groupIndex.splice(e+1,1,this.groupIndex[e])[0])},changeTest:function(){this.$refs.itemForm.validate()&&(this.$set(this.tests[this.testId],"name",this.testName),this.testModal=!1)},deleteTest:function(e,t){var s=this;vt()("确认删除测试？","该操作将永久删除该测试用例！",{icon:"warning",buttons:{cancel:"取消",confirm:{text:"确认",value:!0}},dangerMode:!0}).then((function(a){if(a){var n=s.groups[e].tests.splice(t,1);"frontend-restore"==s.$route.name&&s.$route.params.testId==n&&s.$router.replace({name:"frontend"}),console.log("[i] Delete test ".concat(n)),s.$delete(s.tests,n)}}))},onTestRearrange:function(e,t){var s=this.groups[e].tests[t.newDraggableIndex];console.log("[i] Arrange test ".concat(s," to group ").concat(e)),this.$set(this.tests[s],"group",e)}},mounted:function(){this.groups=this.$store.state.groups,this.tests=this.$store.state.tests,this.groupIndex=this.$store.state.groupIndex}},bt=_t,yt=s("8860"),xt=s("56b0"),wt=s("8270"),kt=s("34c3"),$t=s("e0c7"),Tt=Object(p["a"])(bt,pt,mt,!1,null,null,null),Ct=Tt.exports;b()(Tt,{VBtn:x["a"],VCard:w["a"],VCardActions:k["a"],VCardText:k["b"],VCardTitle:k["c"],VDialog:Qe["a"],VForm:pe["a"],VIcon:M["a"],VList:yt["a"],VListGroup:xt["a"],VListItem:j["a"],VListItemAvatar:wt["a"],VListItemIcon:kt["a"],VListItemTitle:P["c"],VSpacer:Le["a"],VSubheader:$t["a"],VTextField:ve["a"],VToolbar:Se["a"],VToolbarTitle:De["a"]});var It={name:"App",components:{Grouper:Ct},data:function(){return{drawer:!0}},sockets:{connect:function(){console.log("Test Server Connected!"),this.$toastr.success("","WebSocket Connected!")},connect_error:function(e){console.log("Test Server Connect Failed: ".concat(e)),this.$toastr.error("",e&&e.message||"WebSocket Connection Error")}},created:function(){var e=null,t=null,s=null,a=null;try{e=JSON.parse(localStorage.getItem("nonebot-envs")),t=JSON.parse(localStorage.getItem("nonebot-tests")),s=JSON.parse(localStorage.getItem("nonebot-groups")),a=JSON.parse(localStorage.getItem("nonebot-groupIndex"))}catch(o){console.error("[*]无法从本地存储恢复数据！Error: ".concat(o)),this.$toastr.error("","无法从本地存储恢复数据")}var n=Object(K["a"])();this.$store.dispatch("updateEnv",e||{self_id:"12345678",access_token:"",senders:{12345678:{user_id:12345678,nickname:"机器人",card:"群名片",sex:"male",age:8,area:"地区",level:1,role:"member",title:"专属头衔"}}}),this.$store.dispatch("updateTests",t||{}),this.$store.dispatch("restoreGroups",s||Object(J["a"])({},n,{id:n,name:"默认分组",expand:!0,default:!0,editable:!1,removable:!1,tests:[]})),this.$store.dispatch("updateGroupIndex",a||[n]),this.$store.state.envs.self_id&&(this.$socket.io.opts.transportOptions.polling.extraHeaders["X-Self-ID"]=this.$store.state.envs.self_id,this.$socket.connect())}},St=It,Vt=(s("8762"),s("7496")),Mt=s("40dc"),jt=s("5bc1"),Pt=s("553a"),Ot=s("f6c4"),Gt=s("f774"),Nt=Object(p["a"])(St,ut,dt,!1,null,"6f047999",null),Qt=Nt.exports;b()(Nt,{VApp:Vt["a"],VAppBar:Mt["a"],VAppBarNavIcon:jt["a"],VBtn:x["a"],VCol:$["a"],VContainer:T["a"],VDivider:Ee["a"],VFooter:Pt["a"],VIcon:M["a"],VImg:Ie["a"],VListItem:j["a"],VListItemAvatar:wt["a"],VListItemContent:P["a"],VListItemTitle:P["c"],VMain:Ot["a"],VNavigationDrawer:Gt["a"],VRow:O["a"],VSpacer:Le["a"]}),a["a"].use(Ye),tt(Je),a["a"].use(ot),te.a.registerLanguage("json",it.a),a["a"].config.devtools=!1,a["a"].config.productionTip=!1,new a["a"]({router:Be,store:Je,vuetify:ct,render:function(e){return e(Qt)}}).$mount("#app")},"5ced":function(e,t,s){},"60bb":function(e,t){e.exports=_},8427:function(e,t,s){"use strict";var a=s("b7f5"),n=s.n(a);n.a},8762:function(e,t,s){"use strict";var a=s("be19"),n=s.n(a);n.a},9624:function(e,t,s){"use strict";var a=s("f900"),n=s.n(a);n.a},ab0c:function(e,t,s){"use strict";var a=s("52d4"),n=s.n(a);n.a},b7f5:function(e,t,s){},be19:function(e,t,s){},c5e1:function(e,t){e.exports=$},cbf1:function(e,t,s){},cccb:function(e,t,s){"use strict";var a=s("5ced"),n=s.n(a);n.a},cf05:function(e,t,s){e.exports=s.p+"static/img/logo.2a63bac0.png"},f900:function(e,t,s){}});